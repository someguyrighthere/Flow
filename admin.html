<!DOCTYPE html>
<html>
<head>
    <title>Flow Business Suite</title>
</head>
<body>
    <header>
        <h1>Flow Business Suite</h1>
        <nav>
            <ul>
                <li><a href="#">My Account</a></li>
                <li><a href="#">Admin Settings</a></li>
                <li><a href="#">Upgrade Plan</a></li>
                <li><a href="#">Logout</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <aside>
            <ul>
                <li><a href="#">App Hub</a></li>
                <li><a href="#">Admin Settings</a></li>
            </ul>
        </aside>
        <section class="admin-settings">
            <h2>Admin Settings</h2>
            <div class="business-settings">
                <h3>Operating Hours</h3>
                <div class="form-group">
                    <label for="startTime">Start Time</label>
                    <input type="time" id="startTime" name="startTime">
                </div>
                <div class="form-group">
                    <label for="endTime">End Time</label>
                    <input type="time" id="endTime" name="endTime">
                </div>
                <button type="button" class="save-settings">Save Settings</button>
            </div>
            <div class="location-settings">
                <h3>Manage Locations</h3>
                <div class="form-group">
                    <label for="locationName">Location Name</label>
                    <input type="text" id="locationName" name="locationName">
                </div>
                <div class="form-group">
                    <label for="locationAddress">Location Address</label>
                    <input type="text" id="locationAddress" name="locationAddress">
                </div>
                <button type="button" class="create-location">Create Location</button>
            </div>
            <div class="invite-admin-settings">
                <h3>Invite New Admin</h3>
                <div class="form-group">
                    <label for="adminFullName">Full Name</label>
                    <input type="text" id="adminFullName" name="adminFullName">
                </div>
                <div class="form-group">
                    <label for="adminEmail">Email</label>
                    <input type="email" id="adminEmail" name="adminEmail">
                </div>
                <div class="form-group">
                    <label for="adminTempPassword">Temporary Password</label>
                    <input type="text" id="adminTempPassword" name="adminTempPassword">
                </div>
                <div class="form-group">
                    <label for="adminLocation">Assign to Location</label>
                    <select id="adminLocation" name="adminLocation">
                        <!-- Options would be dynamically populated -->
                    </select>
                </div>
                <button type="button" class="send-invite-admin">Send Invite</button>
            </div>
            <div class="invite-employee-settings">
                <h3>Invite New Employee</h3>
                <div class="form-group">
                    <label for="employeeFullName">Full Name</label>
                    <input type="text" id="employeeFullName" name="employeeFullName">
                </div>
                <div class="form-group">
                    <label for="employeeEmail">Email</label>
                    <input type="email" id="employeeEmail" name="employeeEmail">
                </div>
                <div class="form-group">
                    <label for="employeeTempPassword">Temporary Password</label>
                    <input type="text" id="employeeTempPassword" name="employeeTempPassword">
                </div>
                <div class="form-group">
                    <label for="employeePosition">Position</label>
                    <input type="text" id="employeePosition" name="employeePosition">
                </div>
                <div class="form-group">
                    <label for="employeeId">Employee ID (Optional)</label>
                    <input type="text" id="employeeId" name="employeeId">
                </div>
                <div class="form-group">
                    <label for="employmentType">Employment Type</label>
                    <select id="employmentType" name="employmentType">
                        <option value="Full-time">Full-time</option>
                        <option value="Part-time">Part-time</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="weeklyAvailability">Weekly Availability</label>
                    <input type="text" id="weeklyAvailability" name="weeklyAvailability">
                </div>
                <div class="form-group">
                    <label for="employeeLocation">Assign to Location</label>
                    <select id="employeeLocation" name="employeeLocation">
                        <!-- Options would be dynamically populated -->
                    </select>
                </div>
                <button type="button" class="send-invite-employee">Send Invite</button>
            </div>
            <div class="manage-users-settings">
                <h3>Manage Users</h3>
                <!-- Placeholder for user management UI -->
            </div>
        </section>
    </main>
    <footer>
        <!-- Existing footer content (not fully provided) -->
    </footer>
    <script>
        document.querySelector('.save-settings').addEventListener('click', () => {
            const startTime = document.getElementById('startTime').value;
            const endTime = document.getElementById('endTime').value;
            fetch('/api/business-settings/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ operating_hours_start: startTime, operating_hours_end: endTime })
            })
            .then(response => response.json())
            .then(data => {
                if (data.business_id) {
                    alert('Settings saved. Business ID: ' + data.business_id); // For testing, can hide later
                    document.getElementById('businessId').value = data.business_id;
                }
            })
            .catch(error => alert('Error saving settings: ' + error));
        });
    </script>
    <input type="hidden" id="businessId" name="businessId" value="">
</body>
</html>